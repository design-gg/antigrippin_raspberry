<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <title>HTML5 ДелоБанка версии</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .banners-grid {
            display: flex;
            grid-template-columns: repeat(auto-fit, 300px);
            gap: 40px;
            padding: 0;
            align-items: flex-end;
            justify-content: center;
            

        }
        
        .banner-item {
            transition: transform 0.2s ease;
            min-height: 480px; /* Стандартная высота баннера */
            padding:0;
            text-align:center;

            
        }

    .tt1 {
        font-size: 25px;
        font-family: "Montserrat", sans-serif;
        font-weight: 500;
        color:#00001A;
        margin:20px auto;
        text-align:center;
        
    }
             
    .banner-item-text {
        font-size: 12px;
        font-family: "Montserrat", sans-serif;
        font-weight: 500;
        color:#4C4F51;
        margin-bottom:10px;
    }
        
        .banner-container {
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border:1px solid #B8C1C5;
            width: 320px;
            height: 480px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding:0;
            overflow:hidden;
        }
        
        .banner-container canvas {
            max-width: 320px;
            max-height: 480px;

        }
        
        @media (max-width: 320px) {
            .banners-grid {
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                gap: 35px;
            }
            
            .banner-item {
                height: 480px;
            }
        }
        
        @media (max-width: 320px) {
            .banners-grid {
                grid-template-columns: 1fr;
            }
            
            body {
                padding: 10px;
            }
        }
.open-btn {
    margin-top: 10px;
    display: inline-block;
    font-family: "Montserrat", sans-serif;
    font-size: 12px;
    color: #0057FF;
    cursor: pointer;
    text-decoration: underline;
}

.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.overlay.active {
    opacity: 1;
    pointer-events: auto;
}

.overlay-content {
    position: relative;
    background: #fff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
}

.overlay-content iframe {
    width: 320px;
    height: 480px;
    border: none;
}

.overlay-close {
    position: absolute;
    top: -12px;
    right: -12px;
    background: #000;
    color: #fff;
    border: none;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 14px;
}

body.overlay-open {
    overflow: hidden;
}
        
    </style>
</head>
<body>
    <div class="container">
        <div class="tt1">Антигриппин - Малина</div>
        <div class="banners-grid" id="bannersGrid">
            <!-- Баннеры будут добавляться динамически через JavaScript -->
        </div>
    </div>

    <script>
        // Конфигурация баннеров
        const bannersConfig = [
            {name: 'banner1', folder: 'banners/banner1/', htmlFile: 'index.html', width: 320, height: 480, text:"Версия #1"},
            {name: 'banner2', folder: 'banners/banner2/', htmlFile: 'index.html', width: 320, height: 480, text:"Версия #2"}, 
            
            // Добавляйте новые баннеры здесь по мере их создания
        ];

        // Функция для загрузки и отображения баннеров
        function loadBanners() {
            const grid = document.getElementById('bannersGrid');
            
            bannersConfig.forEach(banner => {
                // Создаем контейнер для баннера
                const bannerItem = document.createElement('div');
                bannerItem.className = 'banner-item';

                                // Кнопка открытия
                const openBtn = document.createElement('div');
                openBtn.className = 'open-btn';
                openBtn.textContent = 'открыть в окне';
                
                openBtn.addEventListener('click', () => {
                    openOverlay(banner.folder + banner.htmlFile);
                });
                
                bannerItem.appendChild(openBtn);
                
                const bannerContainer = document.createElement('div');
                bannerContainer.className = 'banner-container';

                const bannerText = document.createElement('div');
                bannerText.className = 'banner-item-text';
                bannerText.textContent = banner.text;
                
                // Создаем iframe для баннера
                const iframe = document.createElement('iframe');
                iframe.src = banner.folder + banner.htmlFile;
                iframe.width = banner.width;
                iframe.height = banner.height;
                iframe.frameBorder = '0';
                iframe.scrolling = 'no';
                iframe.style.border = 'none';
                iframe.loading = 'lazy'; // Ленивая загрузка
                
                // Добавляем элементы в DOM
                bannerContainer.appendChild(iframe);
                bannerItem.appendChild(bannerContainer);
                bannerItem.prepend(bannerText);
                grid.appendChild(bannerItem);
            });
        }

        // Альтернативная версия с загрузкой через object (если iframe не работает)
        function loadBannersAlternative() {
            const grid = document.getElementById('bannersGrid');
            
            bannersConfig.forEach(banner => {
                const bannerItem = document.createElement('div');
                bannerItem.className = 'banner-item';
                
                const bannerContainer = document.createElement('div');
                bannerContainer.className = 'banner-container';
                
                // Используем object вместо iframe
                const object = document.createElement('object');
                object.data = banner.folder + banner.htmlFile;
                object.type = 'text/html';
                object.width = banner.width;
                object.height = banner.height;
                object.style.display = 'block';
                
                // Fallback content
                const fallback = document.createElement('div');
                fallback.textContent = `Баннер ${banner.name} не может быть загружен`;
                object.appendChild(fallback);
                
                bannerContainer.appendChild(object);
                bannerItem.appendChild(bannerContainer);
                grid.appendChild(bannerItem);
            });
        }

        // Загружаем баннеры при полной загрузке страницы
        window.addEventListener('load', function() {
            try {
                loadBanners(); // Пытаемся загрузить через iframe
            } catch (error) {
                console.log('Iframe не поддерживается, пробуем альтернативный метод');
                loadBannersAlternative(); // Альтернативный метод
            }
        });

        // Функция для добавления нового баннера (можно вызывать из консоли)
        function addNewBanner(bannerConfig) {
            bannersConfig.push(bannerConfig);
            const grid = document.getElementById('bannersGrid');
            grid.innerHTML = ''; // Очищаем сетку
            loadBanners(); // Перезагружаем все баннеры
        }
        function openOverlay(src) {
    const overlay = document.getElementById('bannerOverlay');
    const frame = document.getElementById('overlayFrame');

    frame.src = src;
    overlay.classList.add('active');
    document.body.classList.add('overlay-open');

    pauseBackgroundBanners(true);
}

function closeOverlay() {
    const overlay = document.getElementById('bannerOverlay');
    const frame = document.getElementById('overlayFrame');

    overlay.classList.remove('active');
    document.body.classList.remove('overlay-open');

    frame.src = '';
    pauseBackgroundBanners(false);
}

document.getElementById('overlayClose').addEventListener('click', closeOverlay);

document.getElementById('bannerOverlay').addEventListener('click', function(e){
    if(e.target === this){
        closeOverlay();
    }
});
function pauseBackgroundBanners(state) {
    const iframes = document.querySelectorAll('.banner-container iframe');

    iframes.forEach(frame => {
        frame.style.visibility = state ? 'hidden' : 'visible';
    });
}

    </script>
    <!-- Overlay -->
<div id="bannerOverlay" class="overlay">
    <div class="overlay-content">
        <button class="overlay-close" id="overlayClose">✕</button>
        <iframe id="overlayFrame" frameborder="0" scrolling="no"></iframe>
    </div>
</div>

</body>
</html>





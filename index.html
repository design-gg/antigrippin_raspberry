<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">

<title>HTML5 ДелоБанка версии</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    font-family:Arial,sans-serif;
    background:#f5f5f5;
    padding:20px;
}

.container{
    max-width:1200px;
    margin:0 auto;
}

.tt1{
    font-size:25px;
    font-family:"Montserrat",sans-serif;
    font-weight:500;
    color:#00001A;
    margin:20px auto;
    text-align:center;
}

.banners-grid{
    display:flex;
    gap:40px;
    justify-content:center;
    align-items:flex-start;
    flex-wrap:wrap;
}

.banner-item{
    text-align:center;
}

.banner-item-text{
    font-size:12px;
    font-family:"Montserrat",sans-serif;
    font-weight:500;
    color:#4C4F51;
    margin-bottom:10px;
}

.banner-container{
    width:320px;
    height:480px;
    border-radius:8px;
    border:1px solid #B8C1C5;
    box-shadow:0 2px 8px rgba(0,0,0,0.1);
    overflow:hidden;
    background:#fff;
}

.banner-container iframe{
    width:320px;
    height:480px;
    border:none;
    display:block;
    overflow:hidden;
}

.open-btn{
    margin-top:12px;
    display:inline-block;
    font-family:"Montserrat",sans-serif;
    font-size:12px;
    color:#0057FF;
    cursor:pointer;
    text-decoration:underline;
}

/* ================= Overlay ================= */

.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:9999;
    opacity:0;
    pointer-events:none;
    transition:opacity .3s ease;
}

.overlay.active{
    opacity:1;
    pointer-events:auto;
}

.overlay-content{
    position:relative;
    background:#fff;
    padding:20px;
    border-radius:12px;
    box-shadow:0 20px 50px rgba(0,0,0,0.4);
    transform:scale(.9);
    transition:transform .3s ease;
}

.overlay.active .overlay-content{
    transform:scale(1);
}

.overlay-content iframe{
    width:320px;
    height:480px;
    border:none;
    display:block;
}

.overlay-close{
    position:absolute;
    top:-12px;
    right:-12px;
    width:28px;
    height:28px;
    border-radius:50%;
    border:none;
    background:#000;
    color:#fff;
    cursor:pointer;
    font-size:14px;
}

body.overlay-open{
    overflow:hidden;
}
</style>
</head>

<body>

<div class="container">
    <div class="tt1">Антигриппин - Малина</div>
    <div class="banners-grid" id="bannersGrid"></div>
</div>

<!-- Overlay -->
<div id="bannerOverlay" class="overlay">
    <div class="overlay-content">
        <button class="overlay-close" id="overlayClose">✕</button>
        <iframe id="overlayFrame" scrolling="no"></iframe>
    </div>
</div>

<script>
const bannersConfig = [
    {folder:'banners/banner1/', htmlFile:'index.html', text:"Версия #1"},
    {folder:'banners/banner2/', htmlFile:'index.html', text:"Версия #2"},
];

function loadBanners(){
    const grid = document.getElementById('bannersGrid');

    bannersConfig.forEach(banner => {

        const bannerItem = document.createElement('div');
        bannerItem.className = 'banner-item';

        const bannerText = document.createElement('div');
        bannerText.className = 'banner-item-text';
        bannerText.textContent = banner.text;

        const bannerContainer = document.createElement('div');
        bannerContainer.className = 'banner-container';

        const iframe = document.createElement('iframe');
        iframe.src = banner.folder + banner.htmlFile;
        iframe.width = "320";
        iframe.height = "480";
        iframe.scrolling = "no";
        iframe.setAttribute("frameborder", "0");

        const openBtn = document.createElement('div');
        openBtn.className = 'open-btn';
        openBtn.textContent = 'открыть в окне';

        openBtn.addEventListener('click', () => {
            openOverlay(banner.folder + banner.htmlFile);
        });

        bannerContainer.appendChild(iframe);

        bannerItem.appendChild(bannerText);
        bannerItem.appendChild(bannerContainer);
        bannerItem.appendChild(openBtn);

        grid.appendChild(bannerItem);
    });
}

function openOverlay(src){
    const overlay = document.getElementById('bannerOverlay');
    const frame = document.getElementById('overlayFrame');

    frame.src = src;
    overlay.classList.add('active');
    document.body.classList.add('overlay-open');

    pauseBackgroundBanners(true);
}

function closeOverlay(){
    const overlay = document.getElementById('bannerOverlay');
    const frame = document.getElementById('overlayFrame');

    overlay.classList.remove('active');
    document.body.classList.remove('overlay-open');

    frame.src = '';
    pauseBackgroundBanners(false);
}

function pauseBackgroundBanners(state){
    const iframes = document.querySelectorAll('.banner-container iframe');

    iframes.forEach(frame=>{
        frame.style.pointerEvents = state ? 'none' : 'auto';
        frame.style.filter = state ? 'brightness(1.2)' : 'none';
    });
}

window.addEventListener('load', function(){

    loadBanners();

    document.getElementById('overlayClose')
        .addEventListener('click', closeOverlay);

    document.getElementById('bannerOverlay')
        .addEventListener('click', function(e){
            if(e.target === this){
                closeOverlay();
            }
        });

    document.addEventListener('keydown', function(e){
        if(e.key === 'Escape'){
            closeOverlay();
        }
    });

});
</script>

</body>
</html>


